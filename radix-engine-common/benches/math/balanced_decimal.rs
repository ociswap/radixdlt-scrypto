use std::concat;
use std::str::FromStr;

use criterion::{BenchmarkId, Criterion};
use radix_engine_common::math::BalancedDecimal;

use crate::macros::QUICK;
use crate::{bench_ops, ops_fn, ops_root_fn, process_op};

const ADD_OPERANDS: [(&str, &str); 4] = [
    (
        "278960446186580977117854925043439539266.3490000000000000000012312312312312",
        "278960446186580977117854925043439539266.3490000000000000000012312312312312",
    ),
    (
        "-278960446186580977117854925043439539266.3490000000000000000012312312312312",
        "278960446186580977117854925043439539266.3490000000000000000012312312312312",
    ),
    ("1", "-1"),
    (
        "-278960446186580977117854925043439539266.3490000000000000000012312312312312",
        "-278960446186580977117854925043439539266.3490000000000000000012312312312312",
    ),
];

const SUB_OPERANDS: [(&str, &str); 4] = [
    (
        "278960446186580977117854925043439539266.3490000000000000000012312312312312",
        "278960446186580977117854925043439539266.3490000000000000000012312312312312",
    ),
    (
        "-278960446186580977117854925043439539266.3490000000000000000012312312312312",
        "278960446186580977117854925043439539266.3490000000000000000012312312312312",
    ),
    ("1", "-1"),
    (
        "-278960446186580977117854925043439539266.3490000000000000000012312312312312",
        "-278960446186580977117854925043439539266.3490000000000000000012312312312312",
    ),
];

const MUL_OPERANDS: [(&str, &str); 4] = [
    (
        "2789604461865809771.17854925043439539",
        "2789604461865809771.178549250434395392",
    ),
    (
        "-2789604461865809771.17854925043439539",
        "2789604461865809771.178549250434395392",
    ),
    ("63499233282.0282019728", "1312.31233"),
    ("-123123123123", "-1"),
];

const DIV_OPERANDS: [(&str, &str); 4] = [
    (
        "2789604461865809771.17854925043439539",
        "2789604461865809771.178549250434395392",
    ),
    (
        "-2789604461865809771.17854925043439539",
        "2789604461865809771.178549250434395392",
    ),
    ("63499233282.0282019728", "1312.31233"),
    ("-123123123123", "-1"),
];

const ROOT_OPERANDS: [(&str, &str); 4] = [
    (
        "578960446186580977117854925043439539266.34992332820282019728792003956564819967",
        "17",
    ),
    ("12379879872423987.123123123", "13"),
    ("12379879872423987.123123123", "5"),
    ("9", "2"),
];

const POW_OPERANDS: [(&str, &str); 4] = [
    ("12.123123123", "13"),
    ("1.123123123", "5"),
    ("4", "5"),
    ("9", "2"),
];

const TO_STRING_OPERANDS: [&str; 4] = [
    "578960446186580977117854925043439539266.34992332820282019728792003956564819967",
    "-11237987890123090890328.1928379813",
    "12379879872423987.123123123",
    "9",
];

const FROM_STRING_OPERANDS: [&str; 4] = [
    "578960446186580977117854925043439539266.34992332820282019728792003956564819967",
    "-11237987890123090890328.1928379813",
    "12379879872423987.123123123",
    "9",
];

ops_fn!(BalancedDecimal, powi, i64, "clone");
ops_root_fn!(BalancedDecimal, nth_root, "clone");
bench_ops!(BalancedDecimal, "add");
bench_ops!(BalancedDecimal, "sub");
bench_ops!(BalancedDecimal, "mul");
bench_ops!(BalancedDecimal, "div");
bench_ops!(BalancedDecimal, "root", u32);
bench_ops!(BalancedDecimal, "pow", i64);
bench_ops!(BalancedDecimal, "to_string");
bench_ops!(BalancedDecimal, "from_string");
